{"version":3,"sources":["assets/icons/backspace.svg","hooks/useEvents.tsx","components/CalculatorButton.tsx","model/CalculationToken.ts","model/Calculator.ts","components/CalculatorInput.tsx","assets/icons/close.svg","assets/icons/delete.svg","assets/icons/division.svg","assets/icons/equal.svg","assets/icons/minus.svg","assets/icons/plus.svg","components/CalculatorKeyboard.tsx","components/CalculatorView.tsx","App.tsx","index.tsx"],"names":["_path","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgBackspace","_ref","svgRef","title","titleId","props","xmlns","xmlnsXlink","width","height","viewBox","ref","id","d","ForwardRef","EVENT_EMITTER","events","name","callback","push","unsubscribe","filter","cb","data","callbacks","forEach","CalculatorButton","text","icon","type","columns","onPress","css","useStyles","extraClass","numberButton","actionButton","maxSize","Math","min","window","innerWidth","innerHeight","size","className","clsx","button","style","borderRadius","onClick","ActionButton","other","createUseStyles","border","display","alignItems","justifyContent","verticalAlign","textAlign","cursor","fontSize","userSelect","margin","opacity","color","backgroundColor","fill","CalculationToken","value","canBeAfter","previous","canBeFirst","canBeLast","canBeUnary","isNumber","leftPriority","rightPriority","isNaN","parseFloat","Error","CalculatorError","message","position","performOperation","operationToken","left","right","pow","calculate","expression","leftStack","rightStack","tokens","numberChars","bracketsCount","unary","checkToken","token","processNumber","numberText","join","pop","numberToken","parse","symbol","match","undefined","accumulator","toString","scroll","newToken","shift","leftToken","rightToken","delta","operation","leftOperand","result","error","console","log","roundTo","n","digits","negative","m","r","toFixed","Number","round","nonRepeatingOperators","CalculatorInput","inputRef","useRef","expressionRef","React","useState","input","state","_setState","setState","action","prev","newValue","current","clearAction","useCallback","numberAction","number","hasResult","includes","inputValue","expressionValue","trimmedExpression","trimEnd","String","continueWithResult","values","split","map","x","trim","functionAction","lastSymbol","substring","deleteAction","evaluateAction","trimmed","endsWith","onKeyPress","useEffect","subscribe","container","inputMain","separator","history","flexGrow","flexShrink","marginRight","whiteSpace","overflowWrap","SvgClose","SvgDelete","SvgDivision","SvgEqual","SvgMinus","SvgPlus","Row","children","useStyle","row","CalculatorKeyboard","emit","NumberButton","FunctionButton","buttonsMap","useMemo","backdropRef","handleClick","e","rect","getBoundingClientRect","pageX","y","pageY","col","floor","backdrop","marginBottom","zIndex","flexDirection","CalculatorView","windowSize","document","addEventListener","preventDefault","passive","calculatorInput","backspace","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.55c2b0d2.chunk.js","sourcesContent":["var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgBackspace(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22,3H7C6.31,3 5.77,3.35 5.41,3.88L0,12L5.41,20.11C5.77,20.64 6.31,21 7,21H22C23.1,21 24,20.1 24,19V5C24,3.9 23.1,3 22,3M19,15.59L17.59,17L14,13.41L10.41,17L9,15.59L12.59,12L9,8.41L10.41,7L14,10.59L17.59,7L19,8.41L15.41,12\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBackspace);\nexport default __webpack_public_path__ + \"static/media/backspace.01c1d74d.svg\";\nexport { ForwardRef as ReactComponent };","export class EventEmitter {\n    events: { [name: string]: Array<(value: any) => void> };\n\n    constructor() {\n        this.events = {};\n    }\n\n    subscribe<T>(name: string, callback: (value: T) => void) {\n        if (!this.events[name]) {\n            this.events[name] = [];\n        }\n\n        this.events[name].push(callback);\n\n        return () => this.unsubscribe(name, callback);\n    }\n\n    unsubscribe<T>(name: string, callback: (value: T) => void) {\n        this.events[name] = this.events[name]?.filter((cb: any) => cb !== callback);\n    }\n\n    emit<T>(name: string, data: T) {\n        const callbacks = this.events[name];\n        callbacks?.forEach((cb) => cb.call(null, data));\n    }\n}\n\nexport const EVENT_EMITTER = new EventEmitter();\n","import clsx from 'clsx';\nimport React from 'react';\nimport { createUseStyles } from 'react-jss';\n\nexport type IButtonProps = {\n    text: string;\n    icon?: JSX.Element;\n    type?: 'action' | 'number';\n    columns?: number;\n    onPress?: () => any;\n};\n\nexport const BUTTON_SIZE = 85;\nexport const BUTTON_MARGIN = 5;\nexport const BUTTON_FULL_SIZE = BUTTON_SIZE + 2 * BUTTON_MARGIN;\n\nexport const CalculatorButton: React.FC<IButtonProps> = ({\n    text,\n    icon,\n    type = 'number',\n    columns = 1,\n    onPress = () => {},\n}) => {\n    const css = useStyles();\n    const extraClass = type === 'number' ? css.numberButton : css.actionButton;\n\n    const maxSize = Math.min(window.innerWidth, window.innerHeight) / 4;\n    const size = Math.min(BUTTON_SIZE, maxSize);\n\n    return (\n        <button\n            className={clsx(css.button, extraClass)}\n            style={{\n                height: size,\n                width: columns * size + (columns - 1) * 2 * BUTTON_MARGIN,\n                borderRadius: size,\n            }}\n            onClick={onPress}\n            aria-label={text}\n        >\n            {icon ? icon : text}\n        </button>\n    );\n};\n\nexport const ActionButton: React.FC<IButtonProps> = ({ text, type = 'action', ...other }) => (\n    <CalculatorButton text={text} type={type} {...other} />\n);\n\nconst useStyles = createUseStyles({\n    button: {\n        border: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        verticalAlign: 'middle',\n        textAlign: 'center',\n        cursor: 'pointer',\n        fontSize: 30,\n        userSelect: 'none',\n        margin: BUTTON_MARGIN,\n\n        '&:hover': {\n            opacity: 0.95,\n        },\n\n        '&:active': {\n            opacity: 0.6,\n        },\n\n        '& svg': {\n            width: '35px',\n            height: '35px',\n        },\n    },\n    numberButton: {\n        color: 'black',\n        backgroundColor: '#D6E2FC',\n    },\n    actionButton: {\n        backgroundColor: '#285FF5',\n        color: 'white',\n        fill: 'white',\n    },\n    icon: {\n        width: '100%',\n        height: '100%',\n    },\n});\n","type ICalculationTokenType =\n    | 'plus'\n    | 'minus'\n    | 'multiply'\n    | 'divide'\n    | 'mod'\n    | 'pow'\n    | 'leftBracket'\n    | 'rightBracket'\n    | 'number';\n\nexport class CalculationToken {\n    type: ICalculationTokenType;\n    value?: string;\n\n    constructor(type: ICalculationTokenType, value?: string) {\n        this.type = type;\n        this.value = value;\n    }\n\n    static parse(text: string) {\n        switch (text) {\n            case '+':\n                return new this('plus', text);\n            case '-':\n                return new this('minus', text);\n            case '*':\n                return new this('multiply', text);\n            case '/':\n                return new this('divide', text);\n            case '%':\n                return new this('mod', text);\n            case '^':\n                return new this('pow', text);\n            case '(':\n                return new this('leftBracket', text);\n            case ')':\n                return new this('rightBracket', text);\n\n            default:\n                if (isNaN(parseFloat(text))) {\n                    throw new Error(`Can't parse \"${text}\" as number token`);\n                }\n                return new this('number', text);\n        }\n    }\n\n    canBeAfter = (previous?: CalculationToken) => {\n        if (previous == null) {\n            return this.canBeFirst();\n        }\n        switch (this.type) {\n            case 'leftBracket':\n            case 'number':\n                switch (previous.type) {\n                    case 'rightBracket':\n                    case 'number':\n                        return false;\n                    default:\n                        return true;\n                }\n            case 'multiply':\n            case 'divide':\n            case 'mod':\n            case 'pow':\n            case 'rightBracket':\n                switch (previous.type) {\n                    case 'rightBracket':\n                    case 'number':\n                        return true;\n                    default:\n                        return false;\n                }\n            case 'plus':\n            case 'minus':\n                switch (previous.type) {\n                    case 'leftBracket':\n                    case 'rightBracket':\n                    case 'number':\n                        return true;\n                    default:\n                        return false;\n                }\n        }\n    };\n\n    canBeFirst = () => {\n        switch (this.type) {\n            case 'plus':\n            case 'minus':\n            case 'leftBracket':\n            case 'number':\n                return true;\n            case 'multiply':\n            case 'divide':\n            case 'mod':\n            case 'pow':\n            case 'rightBracket':\n                return false;\n        }\n    };\n\n    canBeLast = () => {\n        switch (this.type) {\n            case 'rightBracket':\n            case 'number':\n                return true;\n            default:\n                return false;\n        }\n    };\n\n    canBeUnary = () => {\n        switch (this.type) {\n            case 'minus':\n            case 'plus':\n                return true;\n            default:\n                return false;\n        }\n    };\n\n    isNumber = () => this.type === 'number';\n\n    leftPriority = () => {\n        switch (this.type) {\n            case 'plus':\n            case 'minus':\n                return 2;\n            case 'multiply':\n            case 'divide':\n            case 'mod':\n                return 4;\n            case 'pow':\n                return 5;\n            default:\n                return 0;\n        }\n    };\n\n    rightPriority = () => {\n        switch (this.type) {\n            case 'plus':\n            case 'minus':\n                return 1;\n            case 'multiply':\n            case 'divide':\n            case 'mod':\n                return 3;\n            case 'pow':\n                return 6;\n            default:\n                return 0;\n        }\n    };\n}\n","import { CalculationToken } from './CalculationToken';\n\nclass CalculatorError extends Error {\n    message: string;\n    position?: number;\n    constructor(message: string, position?: number) {\n        super();\n        this.message = message;\n        this.position = position;\n    }\n}\n\nconst parse: (expression: string) => CalculationToken[] = (expression) => {\n    let tokens: CalculationToken[] = [];\n    let previous: CalculationToken | null = null;\n    let numberChars: string[] = [];\n    let bracketsCount = 0;\n    let unary = false;\n\n    const checkToken = (token: CalculationToken, position: number) => {\n        if (!previous) {\n            if (!token.canBeFirst()) {\n                throw new CalculatorError(`Token ${token} can't be first`, position);\n            }\n        } else if (!token.canBeAfter(previous)) {\n            throw new CalculatorError(`Token ${token} can't be after ${previous.type}`, position);\n        }\n        if (position === expression.length - 1 && !token.canBeLast()) {\n            throw new CalculatorError(`Token ${token} can't be last`, position);\n        }\n    };\n\n    const processNumber = (position: number) => {\n        let numberText = numberChars.join('');\n        if (previous?.type === 'minus' && unary) {\n            numberText = `-${numberText}`;\n            tokens.pop();\n            previous = null;\n            unary = false;\n        }\n        const numberToken = CalculationToken.parse(numberText);\n        if (!numberToken) {\n            throw new CalculatorError(\n                `Failed to initialize number token from \"${numberText}\"`,\n                position,\n            );\n        }\n        checkToken(numberToken, position);\n        tokens.push(numberToken);\n        previous = numberToken;\n        numberChars = [];\n    };\n\n    for (let i = 0; i < expression.length; i++) {\n        const symbol = expression[i];\n        if (symbol === ' ') {\n            continue;\n        }\n        if (symbol.match(/\\d/) || symbol === '.') {\n            numberChars.push(symbol);\n            continue;\n        }\n        if (numberChars.length > 0) {\n            processNumber(i);\n        }\n        const token = CalculationToken.parse(symbol);\n        if (!token) {\n            throw new CalculatorError(`Unsupported symbol \"${symbol}\"`, i);\n        }\n        switch (token.type) {\n            case 'minus':\n                switch (previous?.type) {\n                    case 'leftBracket':\n                    case 'pow':\n                    case null:\n                    case undefined:\n                        unary = true;\n                        break;\n                    default:\n                        unary = false;\n                        break;\n                }\n                break;\n            case 'leftBracket':\n                bracketsCount += 1;\n                break;\n            case 'rightBracket':\n                bracketsCount -= 1;\n                break;\n            default:\n                break;\n        }\n        if (bracketsCount < 0) {\n            throw new CalculatorError('Closed brackets more than opened', i);\n        }\n        checkToken(token, i);\n        tokens.push(token);\n        previous = token;\n    }\n    if (numberChars.length > 0) {\n        processNumber(expression.length - 1);\n    }\n    if (bracketsCount > 0) {\n        throw new CalculatorError('Opened brackets more than closed', expression.length - 1);\n    }\n\n    return tokens;\n};\n\nconst performOperation = (operationToken: CalculationToken, left: number, right: number) => {\n    switch (operationToken.type) {\n        case 'plus':\n            return left + right;\n        case 'minus':\n            return left - right;\n        case 'multiply':\n            return left * right;\n        case 'divide':\n            return left / right;\n        case 'mod':\n            return left % right;\n        case 'pow':\n            return Math.pow(left, right);\n        case 'leftBracket':\n        case 'rightBracket':\n        case 'number':\n            throw Error(`${operationToken.type} is not operationToken`);\n    }\n};\n\nexport const calculate = (expression: string, previous: number | null) => {\n    try {\n        let leftStack: CalculationToken[] = [];\n        let rightStack = parse(expression);\n        let accumulator: number | null = null;\n\n        if (previous) {\n            rightStack[0] = new CalculationToken('number', previous.toString());\n        }\n\n        const scroll = () => {\n            const accumulatedValue = accumulator;\n            if (accumulatedValue !== null) {\n                const newToken = new CalculationToken('number', accumulatedValue.toString());\n                leftStack = [newToken, ...leftStack];\n                accumulator = null;\n            }\n            do {\n                if (rightStack.length === 0) {\n                    return;\n                }\n                const token = rightStack.shift();\n                if (!token) {\n                    return;\n                }\n                switch (token.type) {\n                    case 'number':\n                        accumulator = parseFloat(token.value!);\n                        return;\n                    default:\n                        leftStack = [token, ...leftStack];\n                        break;\n                }\n            } while (true);\n        };\n\n        scroll();\n        while (true) {\n            let leftToken = leftStack[0];\n            const rightToken = rightStack[0];\n            let delta = (leftToken?.leftPriority() ?? 0) - (rightToken?.rightPriority() ?? 0);\n            if (leftToken && delta > 0) {\n                const operation = leftStack.shift();\n                const leftOperand = leftStack.shift();\n                if (!operation || !leftOperand) {\n                    return;\n                }\n                switch (leftOperand.type) {\n                    case 'number':\n                        const value = parseFloat(leftOperand.value!);\n                        const result = performOperation(operation, value, accumulator ?? 0);\n                        accumulator = result;\n                        leftToken = leftStack[0];\n                        delta =\n                            (leftToken?.leftPriority() ?? 0) - (rightToken?.rightPriority() ?? 0);\n                        break;\n                    default:\n                        throw new Error(`Left operand ${leftOperand.type} is not number`);\n                }\n            }\n            if (rightToken && rightToken?.type !== 'number' && delta < 0) {\n                scroll();\n            }\n            if (leftToken?.type === 'leftBracket' && rightToken?.type === 'rightBracket') {\n                leftStack.shift();\n                rightStack.shift();\n            }\n            if (leftStack.length === 0 && rightStack.length === 0) {\n                break;\n            }\n        }\n\n        return accumulator;\n    } catch (error) {\n        console.log(error);\n        return 'Error';\n    }\n};\n\nexport function roundTo(n: number, digits?: number) {\n    let negative = false;\n    if (digits === undefined) {\n        digits = 0;\n    }\n    if (n < 0) {\n        negative = true;\n        n = -1 * n;\n    }\n    let m = Math.pow(10, digits);\n    let r = parseFloat((n * m).toFixed(11));\n    r = Number((Math.round(r) / m).toFixed(digits));\n    if (negative) {\n        r = -1 * r;\n    }\n    return r;\n}\n","import React, { useCallback, useEffect, useRef } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { EVENT_EMITTER } from '../hooks/useEvents';\nimport { calculate, roundTo } from '../model/Calculator';\n\ntype ICalculatorInputProps = {};\n\nconst nonRepeatingOperators = ['+', '-', '/', '*'];\n\ntype ICalculatorState = {\n    input: string;\n    expression: string;\n    result: number | null;\n};\n\nconst CalculatorInput: React.FC<ICalculatorInputProps> = () => {\n    const inputRef = useRef<string>('0');\n    const expressionRef = useRef<string>('0');\n\n    const [state, _setState] = React.useState<ICalculatorState>({\n        input: '0',\n        expression: '0',\n        result: null,\n    });\n    const setState = (action: (prev: ICalculatorState) => ICalculatorState) => {\n        _setState((prev) => {\n            const newValue = action(prev);\n            inputRef.current = newValue.input;\n            expressionRef.current = newValue.expression;\n            return newValue;\n        });\n    };\n    // const { input, expression } = state;\n\n    const clearAction = useCallback(() => {\n        setState((prev) => ({ input: '0', expression: '0', result: null }));\n    }, []);\n\n    const numberAction = useCallback((number: string) => {\n        const hasResult = expressionRef.current.includes('=');\n        const inputValue = hasResult ? '0' : inputRef.current;\n        const expressionValue = hasResult ? '0' : expressionRef.current;\n\n        if (number === '.') {\n            if (hasResult) {\n                setState((prev) => ({\n                    ...prev,\n                    input: '0.',\n                    expression: '0.',\n                    result: null,\n                }));\n                return;\n            }\n            if (inputValue === '0') {\n                // If expression ends with operator then append zero\n                const trimmedExpression = expressionValue.trimEnd();\n                if (\n                    trimmedExpression.length > 0 &&\n                    nonRepeatingOperators.includes(\n                        String(trimmedExpression[trimmedExpression.length - 1]),\n                    )\n                ) {\n                    setState((prev) => ({\n                        ...prev,\n                        expression: prev.expression + '0',\n                    }));\n                }\n            } else if (inputValue === '-') {\n                setState((prev) => ({\n                    ...prev,\n                    input: prev.input + '0',\n                    expression: prev.expression + '0',\n                }));\n            }\n        } else {\n            if (inputValue === '0') {\n                // Replace zero by digit 1-9\n                setState((prev) => ({\n                    ...prev,\n                    input: number,\n                    expression: expressionValue === '0' ? number : prev.expression + number,\n                    result: hasResult ? null : prev.result,\n                }));\n                return;\n            }\n        }\n\n        // Ignore duplicate decimal delimiter sign\n        if (inputValue.includes('.') && number === '.') {\n            return;\n        }\n\n        setState((prev) => ({\n            ...prev,\n            input: prev.input + number,\n            expression: prev.expression + number,\n        }));\n    }, []);\n\n    const continueWithResult = useCallback(() => {\n        const values = expressionRef.current.split('=').map((x) => x.trim());\n        const value = values[values.length - 1] ?? '0';\n        setState((prev) => ({ ...prev, expression: value }));\n        return value;\n    }, []);\n\n    const functionAction = useCallback(\n        (text: string) => {\n            // if expression contains calculation result then continue with result\n            let expressionValue = expressionRef.current.includes('=')\n                ? continueWithResult()\n                : expressionRef.current;\n\n            if (nonRepeatingOperators.includes(text)) {\n                let trimmedExpression = expressionValue.trimEnd();\n                let lastSymbol = trimmedExpression[trimmedExpression.length - 1];\n                // if expression ends with the same operator then ignore it\n                if (lastSymbol === text) {\n                    return;\n                }\n                // if expression ends with other operator then replace it\n                if (nonRepeatingOperators.includes(lastSymbol)) {\n                    expressionValue = trimmedExpression\n                        .substring(0, trimmedExpression.length - 1)\n                        .trimEnd();\n                }\n            }\n\n            if (expressionValue === '0' && text === '-') {\n                setState((prev) => ({\n                    ...prev,\n                    input: '-',\n                    expression: '-',\n                }));\n                return;\n            }\n\n            if (expressionValue === '') {\n                expressionValue = '0';\n            }\n\n            setState((prev) => ({\n                ...prev,\n                input: '0',\n                expression: expressionValue + ` ${text} `,\n            }));\n        },\n        [continueWithResult],\n    );\n\n    const deleteAction = useCallback(() => {\n        setState((prev) => ({\n            ...prev,\n            input: prev.input.length > 1 ? prev.input.substring(0, prev.input.length - 1) : '0',\n            expression:\n                prev.expression.length > 1\n                    ? prev.expression\n                          .trimEnd()\n                          .substring(0, prev.expression.trimEnd().length - 1)\n                          .trimEnd()\n                    : '0',\n        }));\n    }, []);\n\n    const evaluateAction = useCallback(() => {\n        if (expressionRef.current.includes('=')) {\n            return;\n        }\n        // If expression ends with operator or dot then append zero\n        let trimmed = expressionRef.current.trimEnd();\n        if (\n            trimmed.length > 0 &&\n            (nonRepeatingOperators.includes(trimmed[trimmed.length - 1]) || trimmed.endsWith('.'))\n        ) {\n            setState((prev) => ({\n                ...prev,\n                expression: prev.expression + '0',\n            }));\n        }\n        let result = calculate(expressionRef.current, state.result);\n\n        setState((prev) => ({\n            ...prev,\n            input: `${result}`,\n            expression:\n                prev.expression + ` = ${typeof result == 'number' ? roundTo(result, 10) : result}`,\n            result: typeof result == 'number' ? result : null,\n        }));\n    }, [state.result]);\n\n    const onKeyPress = useCallback(\n        (key: string) => {\n            if (('0' <= key && key <= '9') || key === '(' || key === ')') {\n                numberAction(key);\n            } else if (key === '.' || key === ',') {\n                numberAction('.');\n            } else if (['+', '-', '*', '/'].includes(key)) {\n                functionAction(key);\n            } else if (key === 'Enter' || key === '=') {\n                evaluateAction();\n            } else if (key === 'Backspace') {\n                deleteAction();\n            } else if (key === 'Clear' || key === 'C') {\n                clearAction();\n            }\n        },\n        [clearAction, deleteAction, evaluateAction, functionAction, numberAction],\n    );\n\n    useEffect(() => {\n        return EVENT_EMITTER.subscribe('key', (key: string) => onKeyPress(key));\n    }, [onKeyPress]);\n\n    const css = useStyles();\n    const value = Number(state.input);\n\n    return (\n        <div className={css.container}>\n            <div className={css.inputMain} aria-label=\"input\">\n                {isNaN(value) || state.input.endsWith('.') ? state.input : roundTo(value, 10)}\n            </div>\n            <div className={css.separator} />\n            <div className={css.history} aria-label=\"history\">\n                {state.expression}\n            </div>\n        </div>\n    );\n};\n\nexport default CalculatorInput;\n\nconst useStyles = createUseStyles({\n    container: {\n        flexGrow: 1,\n        flexShrink: 1,\n        marginRight: 20,\n    },\n    inputMain: {\n        fontSize: 30,\n        textAlign: 'right',\n        whiteSpace: 'pre-wrap',\n        overflowWrap: 'anywhere',\n    },\n    history: {\n        textAlign: 'right',\n        fontSize: 20,\n        whiteSpace: 'pre-wrap',\n        overflowWrap: 'anywhere',\n    },\n    separator: {\n        height: 1,\n        backgroundColor: '#CCCCCC',\n        margin: '5px 0',\n    },\n});\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClose);\nexport default __webpack_public_path__ + \"static/media/close.5cd3645c.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDelete(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19C6,20.1 6.9,21 8,21H16C17.1,21 18,20.1 18,19V7H6V19Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDelete);\nexport default __webpack_public_path__ + \"static/media/delete.9a9cf5c8.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDivision(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19,13H5V11H19V13M12,5C13.1,5 14,5.9 14,7C14,8.1 13.1,9 12,9C10.9,9 10,8.1 10,7C10,5.9 10.9,5 12,5M12,15C13.1,15 14,15.9 14,17C14,18.1 13.1,19 12,19C10.9,19 10,18.1 10,17C10,15.9 10.9,15 12,15Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDivision);\nexport default __webpack_public_path__ + \"static/media/division.55be698f.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgEqual(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19,10H5V8H19V10M19,16H5V14H19V16Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEqual);\nexport default __webpack_public_path__ + \"static/media/equal.b0622ac0.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMinus(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19,13H5V11H19V13Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMinus);\nexport default __webpack_public_path__ + \"static/media/minus.686d0e9d.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlus(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlus);\nexport default __webpack_public_path__ + \"static/media/plus.f48bf0f7.svg\";\nexport { ForwardRef as ReactComponent };","import React, { MouseEventHandler, useCallback, useMemo, useRef } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { ReactComponent as MultiplyIcon } from '../assets/icons/close.svg';\nimport { ReactComponent as TrashIcon } from '../assets/icons/delete.svg';\nimport { ReactComponent as DivideIcon } from '../assets/icons/division.svg';\nimport { ReactComponent as EqualsIcon } from '../assets/icons/equal.svg';\nimport { ReactComponent as MinusIcon } from '../assets/icons/minus.svg';\nimport { ReactComponent as PlusIcon } from '../assets/icons/plus.svg';\nimport { EVENT_EMITTER } from '../hooks/useEvents';\nimport { ActionButton, CalculatorButton, IButtonProps } from './CalculatorButton';\n\ntype ICalculatorKeyboardProps = {};\n\nconst Row: React.FC = ({ children }) => {\n    const css = useStyle();\n    return <div className={css.row}>{children}</div>;\n};\n\nconst CalculatorKeyboard: React.FC<ICalculatorKeyboardProps> = () => {\n    const onKeyPress = (key: string) => {\n        EVENT_EMITTER.emit('key', key);\n    };\n\n    const NumberButton: React.FC<IButtonProps> = ({ text, type = 'number', ...other }) => (\n        <CalculatorButton text={text} type={type} onPress={() => onKeyPress(text)} {...other} />\n    );\n\n    const FunctionButton: React.FC<IButtonProps> = ({ text, type = 'action', ...other }) => (\n        <CalculatorButton text={text} type={type} onPress={() => onKeyPress(text)} {...other} />\n    );\n\n    const buttonsMap = useMemo(\n        () => [\n            ['C', '(', ')', '/'],\n            ['7', '8', '9', '*'],\n            ['4', '5', '6', '-'],\n            ['1', '2', '3', '+'],\n            ['0', '0', '.', '='],\n        ],\n        [],\n    );\n    const backdropRef = useRef<HTMLDivElement>(null);\n    const handleClick: MouseEventHandler<HTMLDivElement> = useCallback(\n        (e) => {\n            if (!backdropRef.current || e.target !== backdropRef.current) {\n                return;\n            }\n            const rect = backdropRef.current.getBoundingClientRect();\n            const x = e.pageX - rect.x;\n            const y = e.pageY - rect.y;\n            const col = Math.floor(x / (rect.width / 4));\n            const row = Math.floor(y / (rect.height / 5));\n            if (col < 0 || col > 3 || row < 0 || row > 4) {\n                return;\n            }\n            const button = buttonsMap[row][col];\n            onKeyPress(button);\n        },\n        [buttonsMap],\n    );\n\n    const css = useStyle();\n\n    return (\n        <div className={css.container} onClick={handleClick}>\n            <div ref={backdropRef} className={css.backdrop} />\n            <Row>\n                <ActionButton text=\"C\" icon={<TrashIcon />} onPress={() => onKeyPress('C')} />\n                <NumberButton text=\"(\" type=\"action\" />\n                <NumberButton text=\")\" type=\"action\" />\n                <FunctionButton text=\"/\" icon={<DivideIcon />} />\n            </Row>\n            <Row>\n                <NumberButton text=\"7\" />\n                <NumberButton text=\"8\" />\n                <NumberButton text=\"9\" />\n                <FunctionButton text=\"*\" icon={<MultiplyIcon />} />\n            </Row>\n            <Row>\n                <NumberButton text=\"4\" />\n                <NumberButton text=\"5\" />\n                <NumberButton text=\"6\" />\n                <FunctionButton text=\"-\" icon={<MinusIcon />} />\n            </Row>\n            <Row>\n                <NumberButton text=\"1\" />\n                <NumberButton text=\"2\" />\n                <NumberButton text=\"3\" />\n                <FunctionButton text=\"+\" icon={<PlusIcon />} />\n            </Row>\n            <Row>\n                <NumberButton text=\"0\" columns={2} />\n                <NumberButton text=\".\" />\n                <ActionButton text=\"=\" onPress={() => onKeyPress('=')} icon={<EqualsIcon />} />\n            </Row>\n        </div>\n    );\n};\n\nexport default CalculatorKeyboard;\n\nconst useStyle = createUseStyles({\n    container: {\n        marginBottom: 20,\n        position: 'relative',\n    },\n    backdrop: {\n        position: 'absolute',\n        zIndex: 5,\n        width: '100%',\n        height: '100%',\n    },\n    row: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'center',\n    },\n});\n","import React, { useEffect } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { ReactComponent as BackspaceIcon } from '../assets/icons/backspace.svg';\nimport { EVENT_EMITTER } from '../hooks/useEvents';\nimport { ActionButton, BUTTON_FULL_SIZE } from './CalculatorButton';\nimport CalculatorInput from './CalculatorInput';\nimport CalculatorKeyboard from './CalculatorKeyboard';\n\ntype ICalculatorViewProps = {};\n\nconst CalculatorView: React.FC<ICalculatorViewProps> = () => {\n    const css = useStyles();\n    const windowSize = Math.min(window.innerWidth, window.innerHeight);\n\n    useEffect(() => {\n        // Disable scroll on mobile devices\n        document.addEventListener('touchmove', (e) => e.preventDefault(), { passive: false });\n\n        // Keyboard input\n        window.addEventListener('keydown', (e: KeyboardEvent) => EVENT_EMITTER.emit('key', e.key));\n    }, []);\n\n    return (\n        <div className={css.container}>\n            <div style={{ width: Math.min(4 * BUTTON_FULL_SIZE, windowSize) }}>\n                <div className={css.calculatorInput}>\n                    <CalculatorInput />\n                    <div className={css.backspace}>\n                        <ActionButton\n                            text=\"Backspace\"\n                            icon={<BackspaceIcon />}\n                            onPress={() => EVENT_EMITTER.emit('key', 'Backspace')}\n                        />\n                    </div>\n                </div>\n                <CalculatorKeyboard />\n            </div>\n        </div>\n    );\n};\n\nexport default CalculatorView;\n\nconst useStyles = createUseStyles({\n    container: {\n        height: '100vh',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center',\n    },\n    calculatorInput: {\n        display: 'flex',\n        alignItems: 'center',\n        marginBottom: 20,\n    },\n    backspace: {\n        flexShrink: 0,\n    },\n});\n","import React from 'react';\nimport CalculatorView from './components/CalculatorView';\n\nfunction App() {\n    return <CalculatorView />;\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}