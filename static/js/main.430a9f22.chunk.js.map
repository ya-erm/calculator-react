{"version":3,"sources":["assets/icons/backspace.svg","hooks/useEvents.tsx","components/CalculatorButton.tsx","model/CalculationToken.ts","model/Calculator.ts","components/model.ts","components/CalculatorHeader.tsx","assets/icons/close.svg","assets/icons/delete.svg","assets/icons/division.svg","assets/icons/equal.svg","assets/icons/minus.svg","assets/icons/plus.svg","components/CalculatorKeyboard.tsx","components/CalculatorView.tsx","App.tsx","index.tsx"],"names":["_path","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgBackspace","_ref","svgRef","title","titleId","props","xmlns","xmlnsXlink","width","height","viewBox","ref","id","d","ForwardRef","EVENT_EMITTER","events","name","callback","push","unsubscribe","filter","cb","data","callbacks","forEach","CalculatorButton","text","icon","type","columns","onPress","css","useStyles","extraClass","numberButton","actionButton","maxSize","Math","min","window","innerWidth","innerHeight","size","className","clsx","button","style","borderRadius","onClick","ActionButton","other","createUseStyles","border","display","alignItems","justifyContent","verticalAlign","textAlign","cursor","fontSize","userSelect","margin","opacity","color","backgroundColor","fill","CalculationToken","value","canBeAfter","previous","canBeFirst","canBeLast","canBeUnary","isNumber","leftPriority","rightPriority","isNaN","parseFloat","Error","CalculatorError","message","position","performOperation","operationToken","left","right","pow","calculate","expression","leftStack","rightStack","tokens","numberChars","bracketsCount","unary","checkToken","token","processNumber","numberText","join","pop","numberToken","parse","symbol","match","undefined","accumulator","toString","scroll","newToken","shift","leftToken","rightToken","delta","operation","leftOperand","result","error","console","log","roundTo","n","digits","negative","m","r","toFixed","Number","round","$input","createStore","$expression","$result","updateInput","createEvent","on","_","v","updateExpression","updateResult","keyPressed","subscribe","numberKeyPressed","functionKeyPressed","evaluateKeyPressed","deleteKeyPressed","clearKeyPressed","guard","prepend","includes","reset","appendToInput","prev","appendToExpression","appendNumberFx","createEffect","params","hasResult","input","number","endsWith","substring","sample","attach","effect","mapParams","nonRepeatingOperators","continueWithResultFx","values","split","map","x","trim","clock","appendOperator","operator","trimmedExpression","trimEnd","lastSymbol","insertMinusFx","evaluateFx","answer","isNum","InputValue","useStore","test","ExpressionValue","CalculatorHeader","container","inputMain","separator","history","flexGrow","flexShrink","marginRight","whiteSpace","overflowWrap","SvgClose","SvgDelete","SvgDivision","SvgEqual","SvgMinus","SvgPlus","Row","children","useStyle","row","CalculatorKeyboard","onKeyPress","emit","NumberButton","FunctionButton","marginBottom","flexDirection","CalculatorView","windowSize","useEffect","document","addEventListener","e","preventDefault","passive","calculatorInput","backspace","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.430a9f22.chunk.js","sourcesContent":["var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgBackspace(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22,3H7C6.31,3 5.77,3.35 5.41,3.88L0,12L5.41,20.11C5.77,20.64 6.31,21 7,21H22C23.1,21 24,20.1 24,19V5C24,3.9 23.1,3 22,3M19,15.59L17.59,17L14,13.41L10.41,17L9,15.59L12.59,12L9,8.41L10.41,7L14,10.59L17.59,7L19,8.41L15.41,12\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBackspace);\nexport default __webpack_public_path__ + \"static/media/backspace.01c1d74d.svg\";\nexport { ForwardRef as ReactComponent };","export class EventEmitter {\n    events: { [name: string]: Array<(value: any) => void> };\n\n    constructor() {\n        this.events = {};\n    }\n\n    subscribe<T>(name: string, callback: (value: T) => void) {\n        if (!this.events[name]) {\n            this.events[name] = [];\n        }\n\n        this.events[name].push(callback);\n\n        return () => this.unsubscribe(name, callback);\n    }\n\n    unsubscribe<T>(name: string, callback: (value: T) => void) {\n        this.events[name] = this.events[name]?.filter((cb: any) => cb !== callback);\n    }\n\n    emit<T>(name: string, data: T) {\n        const callbacks = this.events[name];\n        callbacks?.forEach((cb) => cb.call(null, data));\n    }\n}\n\nexport const EVENT_EMITTER = new EventEmitter();\n","import clsx from 'clsx';\nimport React from 'react';\nimport { createUseStyles } from 'react-jss';\n\nexport type IButtonProps = {\n    text: string;\n    icon?: JSX.Element;\n    type?: 'action' | 'number';\n    columns?: number;\n    onPress?: () => any;\n};\n\nexport const BUTTON_SIZE = 85;\nexport const BUTTON_MARGIN = 5;\nexport const BUTTON_FULL_SIZE = BUTTON_SIZE + 2 * BUTTON_MARGIN;\n\nexport const CalculatorButton: React.FC<IButtonProps> = ({\n    text,\n    icon,\n    type = 'number',\n    columns = 1,\n    onPress = () => {},\n}) => {\n    const css = useStyles();\n    const extraClass = type === 'number' ? css.numberButton : css.actionButton;\n\n    const maxSize = Math.min(window.innerWidth, window.innerHeight) / 4;\n    const size = Math.min(BUTTON_SIZE, maxSize);\n\n    return (\n        <button\n            className={clsx(css.button, extraClass)}\n            style={{\n                height: size,\n                width: columns * size + (columns - 1) * 2 * BUTTON_MARGIN,\n                borderRadius: size,\n            }}\n            onClick={onPress}\n            aria-label={text}\n        >\n            {icon ? icon : text}\n        </button>\n    );\n};\n\nexport const ActionButton: React.FC<IButtonProps> = ({ text, type = 'action', ...other }) => (\n    <CalculatorButton text={text} type={type} {...other} />\n);\n\nconst useStyles = createUseStyles({\n    button: {\n        border: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        verticalAlign: 'middle',\n        textAlign: 'center',\n        cursor: 'pointer',\n        fontSize: 30,\n        userSelect: 'none',\n        margin: BUTTON_MARGIN,\n\n        '&:hover': {\n            opacity: 0.95,\n        },\n\n        '&:active': {\n            opacity: 0.6,\n        },\n\n        '& svg': {\n            width: '35px',\n            height: '35px',\n        },\n    },\n    numberButton: {\n        color: 'black',\n        backgroundColor: '#D6E2FC',\n    },\n    actionButton: {\n        backgroundColor: '#285FF5',\n        color: 'white',\n        fill: 'white',\n    },\n    icon: {\n        width: '100%',\n        height: '100%',\n    },\n});\n","type ICalculationTokenType =\n    | 'plus'\n    | 'minus'\n    | 'multiply'\n    | 'divide'\n    | 'mod'\n    | 'pow'\n    | 'leftBracket'\n    | 'rightBracket'\n    | 'number';\n\nexport class CalculationToken {\n    type: ICalculationTokenType;\n    value?: string;\n\n    constructor(type: ICalculationTokenType, value?: string) {\n        this.type = type;\n        this.value = value;\n    }\n\n    static parse(text: string) {\n        switch (text) {\n            case '+':\n                return new this('plus', text);\n            case '-':\n                return new this('minus', text);\n            case '*':\n                return new this('multiply', text);\n            case '/':\n                return new this('divide', text);\n            case '%':\n                return new this('mod', text);\n            case '^':\n                return new this('pow', text);\n            case '(':\n                return new this('leftBracket', text);\n            case ')':\n                return new this('rightBracket', text);\n\n            default:\n                if (isNaN(parseFloat(text))) {\n                    throw new Error(`Can't parse \"${text}\" as number token`);\n                }\n                return new this('number', text);\n        }\n    }\n\n    canBeAfter = (previous?: CalculationToken) => {\n        if (previous == null) {\n            return this.canBeFirst();\n        }\n        switch (this.type) {\n            case 'leftBracket':\n            case 'number':\n                switch (previous.type) {\n                    case 'rightBracket':\n                    case 'number':\n                        return false;\n                    default:\n                        return true;\n                }\n            case 'multiply':\n            case 'divide':\n            case 'mod':\n            case 'pow':\n            case 'rightBracket':\n                switch (previous.type) {\n                    case 'rightBracket':\n                    case 'number':\n                        return true;\n                    default:\n                        return false;\n                }\n            case 'plus':\n            case 'minus':\n                switch (previous.type) {\n                    case 'leftBracket':\n                    case 'rightBracket':\n                    case 'number':\n                        return true;\n                    default:\n                        return false;\n                }\n        }\n    };\n\n    canBeFirst = () => {\n        switch (this.type) {\n            case 'plus':\n            case 'minus':\n            case 'leftBracket':\n            case 'number':\n                return true;\n            case 'multiply':\n            case 'divide':\n            case 'mod':\n            case 'pow':\n            case 'rightBracket':\n                return false;\n        }\n    };\n\n    canBeLast = () => {\n        switch (this.type) {\n            case 'rightBracket':\n            case 'number':\n                return true;\n            default:\n                return false;\n        }\n    };\n\n    canBeUnary = () => {\n        switch (this.type) {\n            case 'minus':\n            case 'plus':\n                return true;\n            default:\n                return false;\n        }\n    };\n\n    isNumber = () => this.type === 'number';\n\n    leftPriority = () => {\n        switch (this.type) {\n            case 'plus':\n            case 'minus':\n                return 2;\n            case 'multiply':\n            case 'divide':\n            case 'mod':\n                return 4;\n            case 'pow':\n                return 5;\n            default:\n                return 0;\n        }\n    };\n\n    rightPriority = () => {\n        switch (this.type) {\n            case 'plus':\n            case 'minus':\n                return 1;\n            case 'multiply':\n            case 'divide':\n            case 'mod':\n                return 3;\n            case 'pow':\n                return 6;\n            default:\n                return 0;\n        }\n    };\n}\n","import { CalculationToken } from './CalculationToken';\n\nclass CalculatorError extends Error {\n    message: string;\n    position?: number;\n    constructor(message: string, position?: number) {\n        super();\n        this.message = message;\n        this.position = position;\n    }\n}\n\nconst parse: (expression: string) => CalculationToken[] = (expression) => {\n    let tokens: CalculationToken[] = [];\n    let previous: CalculationToken | null = null;\n    let numberChars: string[] = [];\n    let bracketsCount = 0;\n    let unary = false;\n\n    const checkToken = (token: CalculationToken, position: number) => {\n        if (!previous) {\n            if (!token.canBeFirst()) {\n                throw new CalculatorError(`Token ${token} can't be first`, position);\n            }\n        } else if (!token.canBeAfter(previous)) {\n            throw new CalculatorError(`Token ${token} can't be after ${previous.type}`, position);\n        }\n        if (position === expression.length - 1 && !token.canBeLast()) {\n            throw new CalculatorError(`Token ${token} can't be last`, position);\n        }\n    };\n\n    const processNumber = (position: number) => {\n        let numberText = numberChars.join('');\n        if (previous?.type === 'minus' && unary) {\n            numberText = `-${numberText}`;\n            tokens.pop();\n            previous = null;\n            unary = false;\n        }\n        const numberToken = CalculationToken.parse(numberText);\n        if (!numberToken) {\n            throw new CalculatorError(\n                `Failed to initialize number token from \"${numberText}\"`,\n                position,\n            );\n        }\n        checkToken(numberToken, position);\n        tokens.push(numberToken);\n        previous = numberToken;\n        numberChars = [];\n    };\n\n    for (let i = 0; i < expression.length; i++) {\n        const symbol = expression[i];\n        if (symbol === ' ') {\n            continue;\n        }\n        if (symbol.match(/\\d/) || symbol === '.') {\n            numberChars.push(symbol);\n            continue;\n        }\n        if (numberChars.length > 0) {\n            processNumber(i);\n        }\n        const token = CalculationToken.parse(symbol);\n        if (!token) {\n            throw new CalculatorError(`Unsupported symbol \"${symbol}\"`, i);\n        }\n        switch (token.type) {\n            case 'minus':\n                switch (previous?.type) {\n                    case 'leftBracket':\n                    case 'pow':\n                    case null:\n                    case undefined:\n                        unary = true;\n                        break;\n                    default:\n                        unary = false;\n                        break;\n                }\n                break;\n            case 'leftBracket':\n                bracketsCount += 1;\n                break;\n            case 'rightBracket':\n                bracketsCount -= 1;\n                break;\n            default:\n                break;\n        }\n        if (bracketsCount < 0) {\n            throw new CalculatorError('Closed brackets more than opened', i);\n        }\n        checkToken(token, i);\n        tokens.push(token);\n        previous = token;\n    }\n    if (numberChars.length > 0) {\n        processNumber(expression.length - 1);\n    }\n    if (bracketsCount > 0) {\n        throw new CalculatorError('Opened brackets more than closed', expression.length - 1);\n    }\n\n    return tokens;\n};\n\nconst performOperation = (operationToken: CalculationToken, left: number, right: number) => {\n    switch (operationToken.type) {\n        case 'plus':\n            return left + right;\n        case 'minus':\n            return left - right;\n        case 'multiply':\n            return left * right;\n        case 'divide':\n            return left / right;\n        case 'mod':\n            return left % right;\n        case 'pow':\n            return Math.pow(left, right);\n        case 'leftBracket':\n        case 'rightBracket':\n        case 'number':\n            throw Error(`${operationToken.type} is not operationToken`);\n    }\n};\n\nexport const calculate = (expression: string, previous: number | null) => {\n    try {\n        let leftStack: CalculationToken[] = [];\n        let rightStack = parse(expression);\n        let accumulator: number | null = null;\n\n        if (previous) {\n            rightStack[0] = new CalculationToken('number', previous.toString());\n        }\n\n        const scroll = () => {\n            const accumulatedValue = accumulator;\n            if (accumulatedValue !== null) {\n                const newToken = new CalculationToken('number', accumulatedValue.toString());\n                leftStack = [newToken, ...leftStack];\n                accumulator = null;\n            }\n            do {\n                if (rightStack.length === 0) {\n                    return;\n                }\n                const token = rightStack.shift();\n                if (!token) {\n                    return;\n                }\n                switch (token.type) {\n                    case 'number':\n                        accumulator = parseFloat(token.value!);\n                        return;\n                    default:\n                        leftStack = [token, ...leftStack];\n                        break;\n                }\n            } while (true);\n        };\n\n        scroll();\n        while (true) {\n            let leftToken = leftStack[0];\n            const rightToken = rightStack[0];\n            let delta = (leftToken?.leftPriority() ?? 0) - (rightToken?.rightPriority() ?? 0);\n            if (leftToken && delta > 0) {\n                const operation = leftStack.shift();\n                const leftOperand = leftStack.shift();\n                if (!operation || !leftOperand) {\n                    return;\n                }\n                switch (leftOperand.type) {\n                    case 'number':\n                        const value = parseFloat(leftOperand.value!);\n                        const result = performOperation(operation, value, accumulator ?? 0);\n                        accumulator = result;\n                        leftToken = leftStack[0];\n                        delta =\n                            (leftToken?.leftPriority() ?? 0) - (rightToken?.rightPriority() ?? 0);\n                        break;\n                    default:\n                        throw new Error(`Left operand ${leftOperand.type} is not number`);\n                }\n            }\n            if (rightToken && rightToken?.type !== 'number' && delta < 0) {\n                scroll();\n            }\n            if (leftToken?.type === 'leftBracket' && rightToken?.type === 'rightBracket') {\n                leftStack.shift();\n                rightStack.shift();\n            }\n            if (leftStack.length === 0 && rightStack.length === 0) {\n                break;\n            }\n        }\n\n        return accumulator;\n    } catch (error) {\n        console.log(error);\n        return 'Error';\n    }\n};\n\nexport function roundTo(n: number, digits?: number) {\n    let negative = false;\n    if (digits === undefined) {\n        digits = 0;\n    }\n    if (n < 0) {\n        negative = true;\n        n = -1 * n;\n    }\n    let m = Math.pow(10, digits);\n    let r = parseFloat((n * m).toFixed(11));\n    r = Number((Math.round(r) / m).toFixed(digits));\n    if (negative) {\n        r = -1 * r;\n    }\n    return r;\n}\n","import { attach, createEffect, createEvent, createStore, guard, sample } from 'effector';\nimport { EVENT_EMITTER } from '../hooks/useEvents';\nimport { calculate, roundTo } from '../model/Calculator';\n\nexport const $input = createStore('0');\nexport const $expression = createStore('0');\nexport const $result = createStore<number | null>(null);\n\nconst updateInput = createEvent<string>();\n$input.on(updateInput, (_, v) => v);\n\nconst updateExpression = createEvent<string>();\n$expression.on(updateExpression, (_, v) => v);\n\nconst updateResult = createEvent<number | null>();\n$result.on(updateResult, (_, v) => v);\n\nexport const keyPressed = createEvent<string>();\n\nEVENT_EMITTER.subscribe('key', (value: string) => keyPressed(value));\n\nconst numberKeyPressed = createEvent<string>();\nconst functionKeyPressed = createEvent<string>();\nconst evaluateKeyPressed = createEvent();\nconst deleteKeyPressed = createEvent();\nconst clearKeyPressed = createEvent();\n\n// #region Map keyPressed to actions\n\nguard({\n    source: keyPressed,\n    filter: (v) => ('0' <= v && v <= '9') || v === '(' || v === ')',\n    target: numberKeyPressed,\n});\n\nguard({\n    source: keyPressed,\n    filter: (v) => v === '.' || v === ',',\n    target: numberKeyPressed.prepend(() => '.'),\n});\n\nguard({\n    source: keyPressed,\n    filter: (v) => ['+', '-', '*', '/'].includes(v),\n    target: functionKeyPressed,\n});\n\nguard({\n    source: keyPressed,\n    filter: (v) => v === 'Enter' || v === '=',\n    target: evaluateKeyPressed,\n});\n\nguard({\n    source: keyPressed,\n    filter: (v) => v === 'Clear' || v === 'C',\n    target: clearKeyPressed,\n});\n\nguard({\n    source: keyPressed,\n    filter: (v) => v === 'Backspace',\n    target: deleteKeyPressed,\n});\n\n// #endregion\n\n// #region Clear key\n\n$input.reset(clearKeyPressed);\n$expression.reset(clearKeyPressed);\n$result.reset(clearKeyPressed);\n\n// #endregion\n\n// #region Number keys\n\n// $input.watch((v) => console.log('Input changed to', v));\n\nconst appendToInput = createEvent<string>();\n$input.on(appendToInput, (prev, value) => prev + value);\n\nconst appendToExpression = createEvent<string>();\n$expression.on(appendToExpression, (prev, value) => prev + value);\n\nconst appendNumberFx = createEffect(\n    (params: { input: string; expression: string; number: string }) => {\n        const hasResult = params.expression.includes('=');\n        let expression = hasResult ? '0' : params.expression;\n        const input = hasResult ? '0' : params.input;\n        const number = params.number;\n\n        if (hasResult) {\n            updateResult(null);\n        }\n\n        if (input === '0' && '0123456789()'.includes(number)) {\n            updateInput(number);\n            if (expression.endsWith('0')) {\n                updateExpression(expression.substring(0, expression.length - 1) + number);\n            } else {\n                appendToExpression(number);\n            }\n            return;\n        }\n        if (input === '-' && number === '.') {\n            updateInput('-0.');\n            updateExpression('-0.');\n            return;\n        }\n        if (input.includes('.') && number === '.') {\n            return;\n        }\n        if (input === '0' && number === '.') {\n            if (!expression.endsWith('0')) {\n                expression += '0';\n            }\n        }\n        updateInput(input + number);\n        updateExpression(expression + number);\n    },\n);\n\nsample({\n    source: numberKeyPressed,\n    target: attach({\n        effect: appendNumberFx,\n        source: { input: $input, expression: $expression },\n        mapParams: (number: string, { input, expression }) => ({\n            input,\n            expression,\n            number,\n        }),\n    }),\n});\n\n// #endregion\n\n// #region Function keys\n\nconst nonRepeatingOperators = ['+', '-', '/', '*'];\n\nconst continueWithResultFx = createEffect((expression: string) => {\n    if (!expression.includes('=')) {\n        return;\n    }\n    const values = expression.split('=').map((x) => x.trim());\n    const value = values[values.length - 1] ?? '0';\n    updateExpression(value + ' ');\n    return value;\n});\n\n// if expression contains calculation result then continue with result\nsample({\n    clock: functionKeyPressed,\n    target: attach({\n        effect: continueWithResultFx,\n        source: $expression,\n    }),\n});\n\nconst appendOperator = createEvent<string>();\n$expression.on(appendOperator, (prev, operator) => {\n    let trimmedExpression = prev.trimEnd();\n    if (trimmedExpression === '0' && operator === '-') {\n        return '-';\n    }\n    const lastSymbol = trimmedExpression[trimmedExpression.length - 1];\n    if (nonRepeatingOperators.includes(lastSymbol)) {\n        trimmedExpression = trimmedExpression.substring(0, trimmedExpression.length - 1).trimEnd();\n    }\n    return trimmedExpression + ` ${operator} `;\n});\n\nguard({\n    clock: functionKeyPressed,\n    filter: (expression) => !expression.includes('='),\n    target: appendOperator,\n});\n\nconst insertMinusFx = createEffect((expression: string) => {\n    if (expression.trim() === '-') {\n        updateInput('-');\n    }\n});\n\nguard({\n    source: functionKeyPressed,\n    filter: (operator) => operator === '-',\n    target: attach({ effect: insertMinusFx, source: $expression }),\n});\n\nguard({\n    clock: functionKeyPressed,\n    source: $expression,\n    filter: (expression) => expression.trim() !== '-',\n    target: updateInput.prepend(() => '0'),\n});\n\n// #endregion\n\n// #region Backspace key\n\n$input.on(deleteKeyPressed, (prev) => {\n    return prev.length > 1 ? prev.substring(0, prev.length - 1) : '0';\n});\n$expression.on(deleteKeyPressed, (prev) => {\n    return prev.length > 1\n        ? prev\n              .trimEnd()\n              .substring(0, prev.trimEnd().length - 1)\n              .trimEnd()\n        : '0';\n});\n$result.reset(deleteKeyPressed);\n\n// #endregion\n\n// #region Evaluate key\n\nconst evaluateFx = createEffect((params: { expression: string; result: number | null }) => {\n    let expression = params.expression;\n    if (expression.endsWith('.')) {\n        expression += '0';\n        appendToInput('0');\n        appendToExpression('0');\n    }\n    const answer = calculate(expression, params.result);\n    const isNum = typeof answer == 'number';\n    updateInput(`${answer}`);\n    updateExpression(expression + ` = ${isNum ? roundTo(answer, 10) : answer}`);\n    updateResult(isNum ? answer : null);\n});\n\nsample({\n    clock: evaluateKeyPressed,\n    source: { expression: $expression, result: $result },\n    target: evaluateFx,\n});\n\n// #endregion\n","import { useStore } from 'effector-react';\nimport React from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { roundTo } from '../model/Calculator';\nimport { $expression, $input } from './model';\n\nconst InputValue: React.FC = () => {\n    const input = useStore($input);\n    const number = Number(input);\n    const value =\n        isNaN(number) || input.endsWith('.') || /^\\d+.*0+$/.test(input)\n            ? input\n            : roundTo(number, 10);\n    return <>{value}</>;\n};\n\nconst ExpressionValue: React.FC = () => {\n    const expression = useStore($expression);\n    return <>{expression}</>;\n};\n\nconst CalculatorHeader: React.FC = () => {\n    const css = useStyles();\n\n    return (\n        <div className={css.container}>\n            <div className={css.inputMain} aria-label=\"input\">\n                <InputValue />\n            </div>\n            <div className={css.separator} />\n            <div className={css.history} aria-label=\"history\">\n                <ExpressionValue />\n            </div>\n        </div>\n    );\n};\n\nexport default CalculatorHeader;\n\nconst useStyles = createUseStyles({\n    container: {\n        flexGrow: 1,\n        flexShrink: 1,\n        marginRight: 20,\n    },\n    inputMain: {\n        fontSize: 30,\n        textAlign: 'right',\n        whiteSpace: 'pre-wrap',\n        overflowWrap: 'anywhere',\n    },\n    history: {\n        textAlign: 'right',\n        fontSize: 20,\n        whiteSpace: 'pre-wrap',\n        overflowWrap: 'anywhere',\n    },\n    separator: {\n        height: 1,\n        backgroundColor: '#CCCCCC',\n        margin: '5px 0',\n    },\n});\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClose);\nexport default __webpack_public_path__ + \"static/media/close.5cd3645c.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDelete(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19C6,20.1 6.9,21 8,21H16C17.1,21 18,20.1 18,19V7H6V19Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDelete);\nexport default __webpack_public_path__ + \"static/media/delete.9a9cf5c8.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDivision(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19,13H5V11H19V13M12,5C13.1,5 14,5.9 14,7C14,8.1 13.1,9 12,9C10.9,9 10,8.1 10,7C10,5.9 10.9,5 12,5M12,15C13.1,15 14,15.9 14,17C14,18.1 13.1,19 12,19C10.9,19 10,18.1 10,17C10,15.9 10.9,15 12,15Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDivision);\nexport default __webpack_public_path__ + \"static/media/division.55be698f.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgEqual(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19,10H5V8H19V10M19,16H5V14H19V16Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEqual);\nexport default __webpack_public_path__ + \"static/media/equal.b0622ac0.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMinus(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19,13H5V11H19V13Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMinus);\nexport default __webpack_public_path__ + \"static/media/minus.686d0e9d.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlus(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlus);\nexport default __webpack_public_path__ + \"static/media/plus.f48bf0f7.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { ReactComponent as MultiplyIcon } from '../assets/icons/close.svg';\nimport { ReactComponent as TrashIcon } from '../assets/icons/delete.svg';\nimport { ReactComponent as DivideIcon } from '../assets/icons/division.svg';\nimport { ReactComponent as EqualsIcon } from '../assets/icons/equal.svg';\nimport { ReactComponent as MinusIcon } from '../assets/icons/minus.svg';\nimport { ReactComponent as PlusIcon } from '../assets/icons/plus.svg';\nimport { EVENT_EMITTER } from '../hooks/useEvents';\nimport { ActionButton, CalculatorButton, IButtonProps } from './CalculatorButton';\n\ntype ICalculatorKeyboardProps = {};\n\nconst Row: React.FC = ({ children }) => {\n    const css = useStyle();\n    return <div className={css.row}>{children}</div>;\n};\n\nconst CalculatorKeyboard: React.FC<ICalculatorKeyboardProps> = () => {\n    const onKeyPress = (key: string) => {\n        EVENT_EMITTER.emit('key', key);\n    };\n\n    const NumberButton: React.FC<IButtonProps> = ({ text, type = 'number', ...other }) => (\n        <CalculatorButton text={text} type={type} onPress={() => onKeyPress(text)} {...other} />\n    );\n\n    const FunctionButton: React.FC<IButtonProps> = ({ text, type = 'action', ...other }) => (\n        <CalculatorButton text={text} type={type} onPress={() => onKeyPress(text)} {...other} />\n    );\n\n    const css = useStyle();\n\n    return (\n        <div className={css.container}>\n            <Row>\n                <ActionButton text=\"C\" icon={<TrashIcon />} onPress={() => onKeyPress('C')} />\n                <NumberButton text=\"(\" type=\"action\" />\n                <NumberButton text=\")\" type=\"action\" />\n                <FunctionButton text=\"/\" icon={<DivideIcon />} />\n            </Row>\n            <Row>\n                <NumberButton text=\"7\" />\n                <NumberButton text=\"8\" />\n                <NumberButton text=\"9\" />\n                <FunctionButton text=\"*\" icon={<MultiplyIcon />} />\n            </Row>\n            <Row>\n                <NumberButton text=\"4\" />\n                <NumberButton text=\"5\" />\n                <NumberButton text=\"6\" />\n                <FunctionButton text=\"-\" icon={<MinusIcon />} />\n            </Row>\n            <Row>\n                <NumberButton text=\"1\" />\n                <NumberButton text=\"2\" />\n                <NumberButton text=\"3\" />\n                <FunctionButton text=\"+\" icon={<PlusIcon />} />\n            </Row>\n            <Row>\n                <NumberButton text=\"0\" columns={2} />\n                <NumberButton text=\".\" />\n                <ActionButton text=\"=\" onPress={() => onKeyPress('=')} icon={<EqualsIcon />} />\n            </Row>\n        </div>\n    );\n};\n\nexport default CalculatorKeyboard;\n\nconst useStyle = createUseStyles({\n    container: {\n        marginBottom: 20,\n    },\n    row: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'center',\n    },\n});\n","import React, { useEffect } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { ReactComponent as BackspaceIcon } from '../assets/icons/backspace.svg';\nimport { EVENT_EMITTER } from '../hooks/useEvents';\nimport { ActionButton, BUTTON_FULL_SIZE } from './CalculatorButton';\nimport CalculatorHeader from './CalculatorHeader';\nimport CalculatorKeyboard from './CalculatorKeyboard';\n\ntype ICalculatorViewProps = {};\n\nconst CalculatorView: React.FC<ICalculatorViewProps> = () => {\n    const css = useStyles();\n    const windowSize = Math.min(window.innerWidth, window.innerHeight);\n\n    useEffect(() => {\n        // Disable scroll on mobile devices\n        document.addEventListener('touchmove', (e) => e.preventDefault(), { passive: false });\n\n        // Keyboard input\n        window.addEventListener('keydown', (e: KeyboardEvent) => EVENT_EMITTER.emit('key', e.key));\n\n        // Clear at render\n        EVENT_EMITTER.emit('key', 'Clear');\n    }, []);\n\n    return (\n        <div className={css.container}>\n            <div style={{ width: Math.min(4 * BUTTON_FULL_SIZE, windowSize) }}>\n                <div className={css.calculatorInput}>\n                    <CalculatorHeader />\n                    <div className={css.backspace}>\n                        <ActionButton\n                            text=\"Backspace\"\n                            icon={<BackspaceIcon />}\n                            onPress={() => EVENT_EMITTER.emit('key', 'Backspace')}\n                        />\n                    </div>\n                </div>\n                <CalculatorKeyboard />\n            </div>\n        </div>\n    );\n};\n\nexport default CalculatorView;\n\nconst useStyles = createUseStyles({\n    container: {\n        height: '100vh',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center',\n    },\n    calculatorInput: {\n        display: 'flex',\n        alignItems: 'center',\n        marginBottom: 20,\n    },\n    backspace: {\n        flexShrink: 0,\n    },\n});\n","import React from 'react';\nimport CalculatorView from './components/CalculatorView';\n\nfunction App() {\n    return <CalculatorView />;\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}